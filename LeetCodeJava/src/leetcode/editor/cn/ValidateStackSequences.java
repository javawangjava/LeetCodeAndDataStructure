/**
 * <p>ç»™å®š&nbsp;<code>pushed</code>&nbsp;å’Œ&nbsp;<code>popped</code>&nbsp;ä¸¤ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—ä¸­çš„
 * <strong>å€¼éƒ½ä¸é‡å¤</strong>ï¼Œåªæœ‰å½“å®ƒä»¬å¯èƒ½æ˜¯åœ¨æœ€åˆç©ºæ ˆä¸Šè¿›è¡Œçš„æ¨å…¥ push å’Œå¼¹å‡º pop æ“ä½œåºåˆ—çš„ç»“æœæ—¶ï¼Œè¿”å› <code>true</code>ï¼›å¦åˆ™ï¼Œè¿”å›
 * <code>false</code>&nbsp;ã€‚</p>
 *
 * <p>&nbsp;</p>
 *
 * <p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
 *
 * <pre>
 * <strong>è¾“å…¥ï¼š</strong>pushed = [1,2,3,4,5], popped = [4,5,3,2,1]
 * <strong>è¾“å‡ºï¼š</strong>true
 * <strong>è§£é‡Šï¼š</strong>æˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š
 * push(1), push(2), push(3), push(4), pop() -&gt; 4,
 * push(5), pop() -&gt; 5, pop() -&gt; 3, pop() -&gt; 2, pop() -&gt; 1
 * </pre>
 *
 * <p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
 *
 * <pre>
 * <strong>è¾“å…¥ï¼š</strong>pushed = [1,2,3,4,5], popped = [4,3,5,1,2]
 * <strong>è¾“å‡ºï¼š</strong>false
 * <strong>è§£é‡Šï¼š</strong>1 ä¸èƒ½åœ¨ 2 ä¹‹å‰å¼¹å‡ºã€‚
 * </pre>
 *
 * <p>&nbsp;</p>
 *
 * <p><strong>æç¤ºï¼š</strong></p>
 *
 * <ul>
 * <li><code>1 &lt;= pushed.length &lt;= 1000</code></li>
 * <li><code>0 &lt;= pushed[i] &lt;= 1000</code></li>
 * <li><code>pushed</code> çš„æ‰€æœ‰å…ƒç´  <strong>äº’ä¸ç›¸åŒ</strong></li>
 * <li><code>popped.length == pushed.length</code></li>
 * <li><code>popped</code> æ˜¯ <code>pushed</code> çš„ä¸€ä¸ªæ’åˆ—</li>
 * </ul>
 * <div><div>Related Topics</div><div><li>æ ˆ</li><li>æ•°ç»„</li><li>æ¨¡æ‹Ÿ</li></div></div><br><div><li>ğŸ‘ 347</li><li>ğŸ‘
 * 0</li></div>
 */

package leetcode.editor.cn;

import java.util.Arrays;
import java.util.Deque;
import java.util.LinkedList;

/**
 * 946
 * éªŒè¯æ ˆåºåˆ—
 *
 * @author wangweizhou
 * @date 2022-09-14 16:27:34
 */

public class ValidateStackSequences {

    public static void main(String[] args) {
        //æµ‹è¯•ä»£ç 
        Solution solution = new ValidateStackSequences().new Solution();
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {


        // æ€»ç»“ä¸Šè¿°å…¥æ ˆã€å‡ºæ ˆçš„è¿‡ç¨‹ã€‚
        // æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åˆ¤æ–­ä¸€ä¸ªåºåˆ—æ˜¯ä¸æ˜¯æ ˆçš„å¼¹å‡ºåºåˆ—çš„è§„å¾‹ï¼šå¦‚æœå‡ºæ ˆåºåˆ—ä¸­ä¸‹ä¸€ä¸ªå¼¹å‡ºçš„æ•°å­—åˆšå¥½æ˜¯å…¥æ ˆåºåˆ—çš„æ ˆé¡¶æ•°å­—ï¼Œé‚£ä¹ˆç›´æ¥å¼¹å‡ºï¼›
        // å¦‚æœä¸‹ä¸€ä¸ªå¼¹å‡ºçš„æ•°å­—ä¸åœ¨å‹æ ˆåºåˆ—çš„æ ˆé¡¶ï¼Œåˆ™æŠŠå‹æ ˆåºåˆ—ä¸­è¿˜æ²¡æœ‰å…¥æ ˆçš„æ•°å­—å‹å…¥è¾…åŠ©æ ˆï¼Œç›´åˆ°æŠŠä¸‹ä¸€ä¸ªéœ€è¦å¼¹å‡ºçš„æ•°å­—å‹å…¥æ ˆé¡¶ä¸ºæ­¢ï¼›
        // å¦‚æœæ‰€æœ‰æ•°å­—éƒ½å‹å…¥æ ˆåä»ç„¶æ²¡æœ‰æ‰¾åˆ°ä¸‹ä¸€ä¸ªå¼¹å‡ºçš„æ•°å­—ï¼Œé‚£ä¹ˆè¯¥åºåˆ—ä¸å¯èƒ½æ˜¯ä¸€ä¸ªå¼¹å‡ºåºåˆ—ã€‚


        //// è§£æ³•1ï¼šæ¨¡æ‹Ÿ
        //// æ¨¡æ‹Ÿå‡ºæ ˆå’Œå…¥æ ˆçš„æµç¨‹  æ ¹æ®å‡ºæ ˆåºåˆ—å’Œå…¥æ ˆåºåˆ—çš„é¡ºåºæ¨¡æ‹Ÿï¼Œè¯¥å…¥æ ˆçš„æ—¶å€™å…¥æ ˆï¼Œè¯¥å‡ºæ ˆçš„æ—¶å€™å‡ºæ ˆã€‚
        //// ä»¥å…¥æ ˆä¸ºä¸»ï¼Œå¯¹åº”å‡ºæ ˆçš„é¡ºåºåˆ¤æ–­æ˜¯å¦å¯ä»¥å‡ºæ ˆï¼Œæœ€ååˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºã€‚

        public boolean validateStackSequences(int[] pushed, int[] popped) {
            if (pushed == null || popped == null ||
                    pushed.length == 0 || popped.length == 0 || pushed.length != popped.length) {// åˆ¤ç©º
                return false;
            }
            Deque<Integer> stack=new LinkedList<>();// ä½¿ç”¨çœŸæ­£çš„æ ˆæ¥å¯¹å‡ºæ ˆå’Œå…¥æ ˆåºåˆ—è¿›è¡Œæ¨¡æ‹Ÿ
            int len=popped.length;
            int in=0;// æŒ‡é’ˆinæ˜¯å…¥æ ˆåºåˆ—çš„éå†æŒ‡é’ˆ
            int out=0;// æŒ‡é’ˆoutæ˜¯å‡ºæ ˆåºåˆ—çš„éå†æŒ‡é’ˆ

            // å¾ªç¯éå†å‡ºæ ˆå’Œå…¥æ ˆçš„æ•°ç»„ã€‚æ•°æ®åªæœ‰å…ˆå…¥æ ˆç„¶åæ‰èƒ½å‡ºæ ˆã€‚
            while (in<len){// å…ˆéå†å…¥æ ˆåºåˆ—
                stack.push(pushed[in]);// å°†å…¥æ ˆåºåˆ—çš„å…ƒç´ æŒ‰è¦æ±‚å‹å…¥æ•°æ®æ ˆ
                in++;// å…¥æ ˆåºåˆ—çš„éå†æŒ‡é’ˆåç§»
                while (stack.size()>0&&stack.peek()==popped[out]){// å½“æ ˆä¸ç©ºä¸”æ ˆé¡¶å…ƒç´ ç­‰äºå‡ºæ ˆåºåˆ—çš„å‡ºæ ˆå…ƒç´ æ—¶ï¼Œæ¨¡æ‹Ÿå‡ºæ ˆ
                    stack.pop();// æ•°æ®æ ˆçš„æ ˆé¡¶å…ƒç´ å‡ºæ ˆ
                    out++;// å‡ºæ ˆåºåˆ—çš„éå†æŒ‡é’ˆåç§»
                }
            }
            //return  stack.isEmpty();
            return stack.size()==0;// å¦‚æœæ•°æ®æ ˆæ˜¯ç©ºï¼Œåˆ™ä¸¤ä¸ªåºåˆ—åŒ¹é…ã€‚å³æ‰€æœ‰æ•°æ®è¿›æ ˆä¹‹åæ‰€æœ‰æ•°æ®ä¹Ÿå‡ºæ ˆäº†
        }




        //// è§£æ³•2ï¼šåŒæŒ‡é’ˆæ¨¡æ‹Ÿå‡ºæ ˆå…¥æ ˆ+æ•°ç»„æ¨¡æ‹Ÿæ•°æ®æ ˆ
        //public boolean validateStackSequences(int[] pushed, int[] popped) {
        //    if (pushed == null || pushed.length == 0 || popped == null || popped.length == 0 || pushed.length != popped.length) {
        //        return false;
        //    }
        //    int len = pushed.length;
        //    int[] nums = new int[len];// åˆ›å»ºæ•°ç»„æ¥æ¨¡æ‹Ÿæ•°æ®æ ˆ
        //    Arrays.fill(nums, -1);// å› ä¸ºé¢˜å¹²æµ‹è¯•æ¡ˆä¾‹çš„æ‰€æœ‰æ•°æ®éè´Ÿæ•°ï¼Œæ‰€æœ‰è¿™é‡Œå°†æ•°ç»„çš„é»˜è®¤å€¼å¡«ä¸ºè´Ÿæ•°
        //    int index = 0;// // æ•°ç»„æ¨¡æ‹Ÿçš„æ ˆçš„éå†æŒ‡é’ˆ
        //    int in = 0;// æŒ‡é’ˆinæ˜¯å…¥æ ˆåºåˆ—çš„éå†æŒ‡é’ˆ
        //    int out = 0;// æŒ‡é’ˆoutæ˜¯å‡ºæ ˆåºåˆ—çš„éå†æŒ‡é’ˆ
        //    // å¾ªç¯éå†å‡ºæ ˆå’Œå…¥æ ˆçš„æ•°ç»„
        //    while (in < len) {
        //        nums[index] = pushed[in];// å°†å…¥æ ˆåºåˆ—çš„å…ƒç´ æŒ‰è¦æ±‚å‹å…¥æ•°ç»„æ¨¡æ‹Ÿçš„æ ˆ
        //        in++;// å…¥æ ˆåºåˆ—çš„éå†æŒ‡é’ˆåç§»
        //        // å½“æ•°ç»„æ¨¡æ‹Ÿçš„æ ˆä¸ç©ºå¹¶ä¸”è¯¥æ¨¡æ‹Ÿæ ˆçš„æ ˆé¡¶å°±æ˜¯å‡ºæ ˆæ•°ç»„çš„æ ˆé¡¶å…ƒç´ ï¼Œé‚£ä¹ˆè¡¨æ˜æ¨¡æ‹Ÿæ ˆçš„æ ˆé¡¶å…ƒç´ è¦å‡ºæ ˆ
        //        while (index >= 0 && nums[index] == popped[out]) {
        //            nums[index] = -1;// æ¨¡æ‹Ÿæ ˆå‡ºæ ˆå…ƒç´ é‡ç½®ä¸ºåˆå§‹å€¼
        //            index--;// æ•°ç»„æ¨¡æ‹Ÿæ ˆçš„æ ˆé¡¶å…ƒç´ å‡ºæ ˆäº†ï¼Œéå†æŒ‡é’ˆåç§»
        //            out++;// å‡ºæ ˆåºåˆ—çš„éå†æŒ‡é’ˆåç§»
        //        }
        //        index++;// æ¨¡æ‹Ÿæ ˆçš„æŒ‡é’ˆåç§»ï¼Œæ¨¡æ‹Ÿæ ˆçš„éå†æŒ‡é’ˆä¸ºä¸‹ä¸€ä¸ªå¾…åŠ å…¥å…ƒç´ çš„ä½ç½®
        //    }
        //    return index == 0;// å¦‚æœæ•°ç»„æ¨¡æ‹Ÿçš„æ•°æ®æ ˆæ˜¯ç©ºï¼Œåˆ™ä¸¤ä¸ªåºåˆ—åŒ¹é…ã€‚å³æ‰€æœ‰æ•°æ®è¿›æ ˆä¹‹åæ‰€æœ‰æ•°æ®ä¹Ÿå‡ºæ ˆäº†
        //}






        //// è§£æ³•2ï¼šåŒæŒ‡é’ˆæ¨¡æ‹Ÿ
        //// æ•°ç»„æ¨¡æ‹Ÿ  ä¸‹é¢è¿™ä¸ªè¿æ¨¡æ‹Ÿæ•°ç»„éƒ½çœäº†ï¼Œçœ‹ç€ä¼šæœ‰ä¸€ç‚¹è¿·ç³Š
        //public boolean validateStackSequences(int[] pushed, int[] popped) {
        //    if (pushed == null || popped == null ||
        //            pushed.length == 0 || popped.length == 0 || pushed.length != popped.length) {// åˆ¤ç©º
        //        return false;
        //    }
        //    int index = 0;// æ•°ç»„æ¨¡æ‹Ÿçš„æ ˆçš„ä¸‹æ ‡
        //    int in = 0;// æŒ‡é’ˆinæŒ‡å‘å…¥æ ˆæ•°ç»„çš„å¯¹åº”å…ƒç´ 
        //    int out = 0;// æŒ‡é’ˆoutæŒ‡å‘å‡ºæ ˆæ•°ç»„çš„å¯¹åº”å…ƒç´ 
        //    // å¾ªç¯éå†å‡ºæ ˆå’Œå…¥æ ˆçš„æ•°ç»„
        //    while (in < pushed.length) {
        //        pushed[index] = pushed[in];// å°†å…¥æ ˆæ•°ç»„çš„å…ƒç´ æŒ‰è¦æ±‚å‹å…¥æ•°ç»„æ¨¡æ‹Ÿçš„æ ˆ
        //        in++;// å…¥æ ˆåºåˆ—çš„éå†æŒ‡é’ˆåç§»
        //        // å½“æ•°ç»„æ¨¡æ‹Ÿçš„æ ˆä¸ç©ºå¹¶ä¸”è¯¥æ¨¡æ‹Ÿæ ˆçš„æ ˆé¡¶å°±æ˜¯å‡ºæ ˆæ•°ç»„çš„æ ˆé¡¶å…ƒç´ ï¼Œé‚£ä¹ˆè¡¨æ˜æ¨¡æ‹Ÿæ ˆçš„æ ˆé¡¶å…ƒç´ è¦å‡ºæ ˆ
        //        while (index >= 0 && pushed[index] == popped[out]) {// å…ƒç´ å‡ºæ ˆæ›´æ–°æŒ‡é’ˆ
        //            index--;// æ•°ç»„æ¨¡æ‹Ÿæ ˆçš„æ ˆé¡¶å…ƒç´ å‡ºæ ˆäº†
        //            out++;// å‡ºæ ˆåºåˆ—çš„éå†æŒ‡é’ˆåç§»
        //        }
        //        index++;// æ¨¡æ‹Ÿæ ˆçš„æŒ‡é’ˆåç§»ï¼Œæ¨¡æ‹Ÿæ ˆçš„éå†æŒ‡é’ˆä¸ºä¸‹ä¸€ä¸ªå¾…åŠ å…¥å…ƒç´ çš„ä½ç½®
        //    }
        //    return index == 0;// å¦‚æœæ•°ç»„æ¨¡æ‹Ÿçš„æ•°æ®æ ˆæ˜¯ç©ºï¼Œåˆ™ä¸¤ä¸ªåºåˆ—åŒ¹é…ã€‚å³æ‰€æœ‰æ•°æ®è¿›æ ˆä¹‹åæ‰€æœ‰æ•°æ®ä¹Ÿå‡ºæ ˆäº†
        //}


    }
//leetcode submit region end(Prohibit modification and deletion)

}
