/**
 * <p>æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚</p>
 *
 * <p><br>
 * åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚</p>
 *
 * <p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
 *
 * <pre><strong>è¾“å…¥ï¼š</strong>
 * [2, 3, 1, 0, 2, 5, 3]
 * <strong>è¾“å‡ºï¼š</strong>2 æˆ– 3
 * </pre>
 *
 * <p>&nbsp;</p>
 *
 * <p><strong>é™åˆ¶ï¼š</strong></p>
 *
 * <p><code>2 &lt;= n &lt;= 100000</code></p>
 * <div><div>Related Topics</div><div><li>æ•°ç»„</li><li>å“ˆå¸Œè¡¨</li><li>æ’åº</li></div></div><br><div><li>ğŸ‘ 949</li><li>ğŸ‘
 * 0</li></div>
 */

package leetcode.editor.cn;

import java.util.HashSet;
import java.util.Set;

/**
 * å‰‘æŒ‡ Offer 03
 * æ•°ç»„ä¸­é‡å¤çš„æ•°å­—
 *
 * @author wangweizhou
 * @date 2022-09-14 19:28:57
 */

/**
 * 442  å’Œä¸Šé¢çš„å¯¹åº”èµ·æ¥å­¦
 * æ•°ç»„ä¸­é‡å¤çš„æ•°æ®
 *
 * @author wangweizhou
 * @date 2022-09-19 19:17:10
 */

public class ShuZuZhongZhongFuDeShuZiLcof {
    public static void main(String[] args) {
        //æµ‹è¯•ä»£ç 
        Solution solution = new ShuZuZhongZhongFuDeShuZiLcof().new Solution();
        //int[] nums = {1,2,4,2,5,3};
        //int[] nums = {1,2,4,2,1,5,3};
        //int[] nums = {1,2,4,5,3};
        int[] nums = {4, 2, 0, 4, 3};
        int ans = solution.findRepeatNumber(nums);
        System.out.println(ans);

    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {

        // è§£é¢˜æ€è·¯ï¼š
        // æ•°ç»„ä¸­çš„æ•°å­—éƒ½åœ¨0~n-1çš„èŒƒå›´å†…ã€‚å¦‚æœè¿™ä¸ªæ•°ç»„ä¸­æ²¡æœ‰é‡å¤çš„æ•°å­—ï¼Œé‚£ä¹ˆå½“æ•°ç»„æ’åºä¹‹åæ•°å­—iå°†å‡ºç°åœ¨ä¸‹æ ‡ä¸ºiçš„ä½ç½®ã€‚
        // ä¹Ÿå°±æ˜¯å‡½æ•°è‡ªå˜é‡å’Œå‡½æ•°å€¼æ˜¯ä¸€æ ·çš„ã€‚å‡½æ•°è‡ªå˜é‡æ˜¯æ•°ç»„ä¸‹æ ‡ï¼Œå‡½æ•°å› å˜é‡æ˜¯æ•°ç»„ä¸­æ•°ç»„å…ƒç´ çš„å€¼ã€‚
        // å¦‚æœæ•°ç»„ä¸­æœ‰é‡å¤çš„æ•°å­—ï¼Œé‚£ä¹ˆæœ‰äº›ä½ç½®å¯èƒ½å­˜åœ¨å¤šä¸ªæ•°å­—ï¼ŒåŒæ—¶æœ‰äº›ä½ç½®å¯èƒ½æ²¡æœ‰æ•°å­—ã€‚ä¹Ÿå°±æ˜¯å¤šä¸ªä½ç½®å¯¹åº”ç€åŒä¸€ä¸ªå…ƒç´ çš„æ˜ å°„ã€‚


        // æ ¸å¿ƒå°±æ˜¯åœ¨éå†æ•°ç»„çš„è¿‡ç¨‹ä¸­å°†æ•°ç»„çš„ç¬¬iä¸ªå…ƒç´ nums[i]æ˜ å°„åˆ°ç¬¬iä¸ªä½ç½®ï¼ˆä¸‹æ ‡iï¼‰ã€‚

        // 1.å½“æ‰«æåˆ°ä¸‹æ ‡ä¸ºiçš„æ•°å­—nums[i]æ—¶ï¼Œè®°ç¬¬iä¸ªå…ƒç´ æ˜¯mï¼ˆnums[i]=mï¼‰ã€‚
        // 2é¦–å…ˆæ¯”è¾ƒè¿™ä¸ªæ•°å­—(ç”¨mè¡¨ç¤º)æ˜¯ä¸æ˜¯ç­‰äºiã€‚nums[i] == iï¼Ÿæ£€æŸ¥æ•°ç»„ä¸­ç¬¬iä¸ªå…ƒç´ nums[i]æ˜¯å¦å‡ºç°åœ¨ç¬¬iä¸ªä½ç½®ï¼ˆä¸‹æ ‡iï¼‰ã€‚
        // 2.1å¦‚æœæ˜¯ï¼Œæ•°ç»„ä¸­ç¬¬iä¸ªå…ƒç´ nums[i]å‡ºç°åœ¨ç¬¬iä¸ªä½ç½®ï¼ˆä¸‹æ ‡iï¼‰ï¼Œè¯´æ˜æ­¤æ•°å­—å·²åœ¨å¯¹åº”ç´¢å¼•ä½ç½®ï¼Œæ— éœ€äº¤æ¢ï¼Œåˆ™æ¥ç€æ‰«æä¸‹ä¸€ä¸ªæ•°å­—;
        // 2.2å¦‚æœä¸æ˜¯ï¼Œåˆ™å†æ‹¿æ•°å­—må’Œç¬¬mä¸ªæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚nums[nums[i]]==nums[i] ï¼Ÿ
        // 3.1å¦‚æœå®ƒå’Œç¬¬mä¸ªæ•°å­—ç›¸ç­‰ï¼Œå°±æ‰¾åˆ°äº†ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼ˆè¯¥æ•°å­—måœ¨ä¸‹æ ‡ä¸ºiå’Œmçš„ä½ç½®éƒ½å‡ºç°äº†ï¼‰;
        // 3.2å¦‚æœå®ƒå’Œç¬¬mä¸ªæ•°å­—ä¸ç›¸ç­‰ï¼Œå°±æŠŠç¬¬iä¸ªæ•°å­—å’Œç¬¬mä¸ªæ•°å­—äº¤æ¢ï¼ŒæŠŠmæ”¾åˆ°ä¸‹æ ‡ä¸ºmçš„ä½ç½®ã€äº¤æ¢ç´¢å¼•ä¸º i å’Œ nums[i] çš„å…ƒç´ å€¼ï¼Œå°†æ­¤æ•°å­—äº¤æ¢è‡³å¯¹åº”ç´¢å¼•ä½ç½®ã€‚ã€‘ã€‚
        // æ¥ä¸‹æ¥å†é‡å¤è¿™ä¸ªæ¯”è¾ƒã€äº¤æ¢çš„è¿‡ç¨‹ï¼Œç›´åˆ°æˆ‘ä»¬å‘ç°ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚

        // è§£æ³•2ï¼šå“ˆå¸Œè¡¨  æ•°ç»„æ¨¡æ‹Ÿå“ˆå¸Œè¡¨ å†™æ³•2
        public int findRepeatNumber(int[] nums) {
            if (nums == null || nums.length == 0) {// åˆ¤ç©º
                return -1;
            }

            int len = nums.length;
            for (int i = 0; i < len; i++) {
                if (nums[i] < 0 || nums[i] > len - 1) {  // åˆ¤æ–­æ•°ç»„å…ƒç´ æ˜¯å¦è¶Šç•Œ,åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ä¸åŒ…å«è¶Šç•Œçš„æµ‹è¯•ç”¨ä¾‹
                    return -1;
                }
                //è‹¥ nums[i]=i ï¼š è¯´æ˜æ­¤æ•°å­—å·²åœ¨å¯¹åº”ç´¢å¼•ä½ç½®ï¼Œæ— éœ€äº¤æ¢ï¼Œå› æ­¤è·³è¿‡,è¿›å…¥ä¸‹ä¸€ä¸ªä½ç½®ï¼›
                if (nums[i] != i) {// nums[i] != iï¼›å½“nums[i]æ²¡æœ‰æ”¾åœ¨å¯¹åº”çš„ä½ç½®iæ—¶ï¼Œä¹Ÿå°±æ˜¯æ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºiçš„åœ°æ–¹
                    if (nums[nums[i]] == nums[i]) {
                        // nums[nums[i]]==nums[i] ï¼Œå³ nums[m]=nums[i]=mï¼Œï¼ˆæ•°å­—mä¹Ÿå°±æ˜¯å…ƒç´ å€¼ä¸ºmçš„å…ƒç´ åœ¨ä¸‹æ ‡ä¸ºiå’Œmçš„ä½ç½®éƒ½å‡ºç°äº†ï¼‰ã€‚
                        // æ•°å­—må‡ºç°åœ¨ä¸‹æ ‡ä¸ºmçš„åœ°æ–¹ï¼ˆnums[m]=mï¼‰ï¼Œæ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºiçš„åœ°æ–¹ï¼ˆnums[i]=mï¼‰
                        return nums[i];
                    } else {
                        // æ‰§è¡Œåˆ°è¿™é‡Œ nums[i] != iï¼Œnums[i] != nums[nums[i]]ï¼Œå³nums[m]!=m;m=nums[i]
                        // ä¹Ÿå°±æ˜¯æ•°å­—må‡ºç°åœ¨ä¸‹æ ‡ä¸ºiçš„ä½ç½®ï¼Œæ•°å­—mæ²¡æœ‰å‡ºç°åœ¨ä¸‹æ ‡ä¸ºmçš„ä½ç½®ã€‚é‚£ä¹ˆåº”è¯¥å°†æ•°å­—mæ”¾ç½®åˆ°ç¬¬mä¸ªä½ç½®ã€‚
                        // äº¤æ¢ nums[i] å’Œ nums[nums[i]]ï¼Œè¿™ä¸ªåªæ˜¯å°†æ•°å­—mæ”¾ç½®åœ¨äº†ç¬¬mä¸ªä½ç½®ã€‚
                        // ç¬¬iä¸ªä½ç½®ä¸ä¸€æ ·æ˜¯åº”è¯¥æ”¾ç½®çš„æ•°å­—nums[i]ã€‚å³nums[i] å’Œiä¸ä¸€å®šç­‰äºï¼Œè¿˜éœ€è¦å†æ¬¡åˆ¤æ–­
                        //swap(nums,i,nums[i]);// ä¸¤ä¸ªéƒ½è¡Œ
                        swap(nums, nums[i], i);
                        i--;// æ³¨æ„è¿™é‡Œè¦è‡ªå‡1ï¼Œå‰é¢
                    }
                }
                //ä¸Šé¢æ˜¯ä¸‹é¢çš„ç®€åŒ–
                //if (nums[i] == i) {//è‹¥ nums[i]=i ï¼š è¯´æ˜æ­¤æ•°å­—å·²åœ¨å¯¹åº”ç´¢å¼•ä½ç½®ï¼Œæ— éœ€äº¤æ¢ï¼Œå› æ­¤è·³è¿‡ï¼›
                //    continue;
                //} else {// æ‰§è¡Œåˆ°è¿™é‡Œåˆ™nums[i] != i
                //    if (nums[nums[i]] == nums[i]) {
                //        // nums[nums[i]]==nums[i] ï¼Œå³ nums[m]=nums[i]=mï¼Œæ•°å­—må‡ºç°åœ¨ä¸‹æ ‡ä¸ºmçš„åœ°æ–¹ï¼ˆnums[m]=mï¼‰ï¼Œæ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºiçš„åœ°æ–¹ï¼ˆnums[i
                //        // ]=mï¼‰
                //        return nums[i];
                //    } else {
                //        if (nums[nums[i]] == nums[i]) {
                //            // nums[nums[i]]==nums[i] ï¼Œå³ nums[m]=nums[i]=mï¼Œæ•°å­—må‡ºç°åœ¨ä¸‹æ ‡ä¸ºmçš„åœ°æ–¹ï¼ˆnums[m]=mï¼‰ï¼Œæ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºi
                //            // çš„åœ°æ–¹ï¼ˆnums[i]=mï¼‰
                //            return nums[i];
                //        } else {
                //            //swap(nums,i,nums[i]);
                //            swap(nums, nums[i], i);
                //            i--;
                //        }
                //    }
                //}
            }
            return -1;
        }


        private void swap(int[] nums, int i, int j) {
            if(nums[i]!=nums[j]){
                int temp = nums[i];
                nums[i] = nums[j];
                nums[j] = temp;
            }
        }


        //// è§£æ³•2ï¼šå“ˆå¸Œè¡¨  æ•°ç»„æ¨¡æ‹Ÿå“ˆå¸Œè¡¨ å†™æ³•1
        //public int findRepeatNumber(int[] nums) {
        //    if (nums == null || nums.length == 0) {// åˆ¤ç©º
        //        return -1;
        //    }
        //    int len = nums.length;
        //
        //    // æ£€æŸ¥æ•°ç»„ä¸­ç¬¬iä¸ªå…ƒç´ nums[i]æ˜¯å¦å‡ºç°åœ¨ç¬¬iä¸ªä½ç½®ï¼ˆä¸‹æ ‡iï¼‰
        //    for (int i = 0; i < len; i++) {
        //        if (nums[i] < 0 || nums[i] > len - 1) { // åˆ¤æ–­æ•°ç»„å…ƒç´ æ˜¯å¦è¶Šç•Œ,åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ä¸åŒ…å«è¶Šç•Œçš„æµ‹è¯•ç”¨ä¾‹
        //            return -1;
        //        }
        //        // æ•°ç»„ä¸­ç¬¬iä¸ªå…ƒç´ æ˜¯nums[i]ï¼Œè®°ç¬¬iä¸ªå…ƒç´ æ˜¯mï¼ˆnums[i]=mï¼‰
        //        while (nums[i] != i) { // å½“nums[i]æ²¡æœ‰æ”¾åœ¨å¯¹åº”çš„ä½ç½®iæ—¶ï¼Œä¹Ÿå°±æ˜¯æ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºiçš„åœ°æ–¹
        //            // nums[nums[i]]==nums[i] ï¼Œå³ nums[m]=nums[i]=mï¼Œï¼ˆæ•°å­—mä¹Ÿå°±æ˜¯å…ƒç´ å€¼ä¸ºmçš„å…ƒç´ åœ¨ä¸‹æ ‡ä¸ºiå’Œmçš„ä½ç½®éƒ½å‡ºç°äº†ï¼‰ã€‚
        //            // æ•°å­—må‡ºç°åœ¨ä¸‹æ ‡ä¸ºmçš„åœ°æ–¹ï¼ˆnums[m]=mï¼‰ï¼Œæ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºiçš„åœ°æ–¹ï¼ˆnums[i]=mï¼‰
        //            if (nums[nums[i]] == nums[i]) {//å½“nums[i]æ²¡æœ‰æ”¾åœ¨å¯¹åº”çš„ä½ç½®iæ—¶ï¼Œä¹Ÿå°±æ˜¯æ•°å­—må‡ºç°åœ¨äº†ä¸‹æ ‡ä¸ºiçš„åœ°æ–¹, å†æ‹¿æ•°å­—må’Œç¬¬mä¸ªæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚
        //                return nums[i];
        //            } else {
        //                // æ‰§è¡Œåˆ°è¿™é‡Œ nums[i] != iï¼Œnums[i] != nums[nums[i]]ï¼Œå³nums[m]!=m;m=nums[i]
        //                // ä¹Ÿå°±æ˜¯æ•°å­—må‡ºç°åœ¨ä¸‹æ ‡ä¸ºiçš„ä½ç½®ï¼Œæ•°å­—mæ²¡æœ‰å‡ºç°åœ¨ä¸‹æ ‡ä¸ºmçš„ä½ç½®ã€‚é‚£ä¹ˆåº”è¯¥å°†æ•°å­—mæ”¾ç½®åˆ°ç¬¬mä¸ªä½ç½®ã€‚
        //                // äº¤æ¢ nums[i] å’Œ nums[nums[i]]
        //                swap(nums, i, nums[i]);
        //            }
        //        }
        //    }
        //    return -1;
        //}


        ////	è§£æ³•1ï¼šå“ˆå¸Œè¡¨ API
        ////  æ—¶é—´å¤æ‚åº¦ O(N) ï¼š éå†æ•°ç»„ä½¿ç”¨ O(N) ï¼ŒHashSet æ·»åŠ ä¸æŸ¥æ‰¾å…ƒç´ çš†ä¸º O(1) ã€‚
        ////  ç©ºé—´å¤æ‚åº¦ O(N) ï¼š HashSet å ç”¨ O(N) å¤§å°çš„é¢å¤–ç©ºé—´ã€‚
        //
        //public int findRepeatNumber(int[] nums) {
        //	if(nums==null||nums.length==0){
        //		return -1;
        //	}
        //    int len = nums.length;
        //
        //	Set<Integer> set=new HashSet<>();
        //	for(int num:nums){
        //        if(num<0||num>len-1){// åˆ¤æ–­æ•°ç»„å…ƒç´ æ˜¯å¦è¶Šç•Œ,åŠ›æ‰£çš„æµ‹è¯•ç”¨ä¾‹ä¸åŒ…å«è¶Šç•Œçš„æµ‹è¯•ç”¨ä¾‹
        //            return -1;
        //        }
        //        // Adds the specified element to this set if it is not already present (optional operation).
        //        // If this set already contains the element, the call leaves the set unchanged and returns false.
        //		if(!set.add(num)){
        //			return num;
        //		}
        //        //// ä¸Šé¢ifæ˜¯ä¸‹é¢ifçš„ç®€åŒ–ç‰ˆæœ¬
        //        //if(set.contains(num)){
        //        //    return num;
        //        //}else {
        //        //    set.add(num);
        //        //}
        //	}
        //	return -1;
        //}


    }
//leetcode submit region end(Prohibit modification and deletion)

}
