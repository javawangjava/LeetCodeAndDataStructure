/**
 * <p>ç»™ä½ ä¸€ä¸ªä»…ç”±æ•´æ•°ç»„æˆçš„æœ‰åºæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ã€‚</p>
 *
 * <p>è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›åªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸ªæ•°ã€‚</p>
 *
 * <p>ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»æ»¡è¶³ <code>O(log n)</code> æ—¶é—´å¤æ‚åº¦å’Œ <code>O(1)</code> ç©ºé—´å¤æ‚åº¦ã€‚</p>
 *
 * <p>&nbsp;</p>
 *
 * <p><strong>ç¤ºä¾‹ 1:</strong></p>
 *
 * <pre>
 * <strong>è¾“å…¥:</strong> nums = [1,1,2,3,3,4,4,8,8]
 * <strong>è¾“å‡º:</strong> 2
 * </pre>
 *
 * <p><strong>ç¤ºä¾‹ 2:</strong></p>
 *
 * <pre>
 * <strong>è¾“å…¥:</strong> nums =  [3,3,7,7,10,11,11]
 * <strong>è¾“å‡º:</strong> 10
 * </pre>
 *
 * <p>&nbsp;</p>
 *
 * <p><meta charset="UTF-8" /></p>
 *
 * <p><strong>æç¤º:</strong></p>
 *
 * <ul>
 * <li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>
 * <li><code>0 &lt;= nums[i]&nbsp;&lt;= 10<sup>5</sup></code></li>
 * </ul>
 * <div><div>Related Topics</div><div><li>æ•°ç»„</li><li>äºŒåˆ†æŸ¥æ‰¾</li></div></div><br><div><li>ğŸ‘ 541</li><li>ğŸ‘ 0</li></div>
 */

package leetcode.editor.cn;

import java.util.*;

/**
 * 540
 * æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ 
 *
 * @author wangweizhou
 * @date 2022-08-28 21:48:00
 */

public class SingleElementInASortedArray {
    public static void main(String[] args) {
        //æµ‹è¯•ä»£ç 
        Solution solution = new SingleElementInASortedArray().new Solution();
        int[] nums = {2, 2, 3, 3, 4};
        int ans = solution.singleNonDuplicate(nums);
        System.out.println(ans);
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {


        //// è¾“å…¥çš„æ•°ç»„æ²¡æœ‰ç»è¿‡æ’åºï¼Œå…¶ä»–æ¡ä»¶ä¸å˜ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å¦ä¸€ç±»å¾ˆç»å…¸çš„é¢è¯•é¢˜ã€‚
        //// ç”±äºä¸¤ä¸ªç›¸åŒçš„æ•°å­—å¼‚æˆ–çš„ç»“æœæ˜¯0ï¼Œå› æ­¤å¦‚æœå°†æ•°ç»„ä¸­æ‰€æœ‰æ•°å­—å¼‚æˆ–ï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯é‚£ä¸ªå”¯ä¸€åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚
        //// è§£æ³•5ï¼šå¼‚æˆ–
        //public int singleNonDuplicate(int[] nums) {
        //    if (nums == null || nums.length == 0) {
        //        return -1;
        //    }
        //    int len=nums.length;
        //    int ans=nums[0];
        //    for (int i = 1; i < len; i++) {
        //        ans=ans^nums[i];
        //    }
        //    return ans;
        //}



        // åœ¨ä¸€ä¸ªæ’åºæ•°ç»„ä¸­ï¼Œå¦‚æœæ‰€æœ‰æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ï¼Œé‚£ä¹ˆå°†æ•°ç»„ä¸­çš„æ•°å­—æ¯ä¸¤ä¸ªåˆ†æˆä¸€ç»„ï¼Œæ¯ç»„çš„ä¸¤ä¸ªæ•°å­—éƒ½æ˜¯ç›¸ç­‰çš„ã€‚
        // ä½†å¦‚æœåœ¨æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªè§„å¾‹å°±ä¼šè¢«æ‰“ç ´ã€‚ä¾‹å¦‚ï¼Œåœ¨æ•°ç»„[1ï¼Œ1ï¼Œ2ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ4ï¼Œ5ï¼Œ5]ä¸­ï¼Œ
        // å¦‚æœå°†ä¸¤ä¸ªæ•°å­—åˆ†æˆä¸€ç»„ï¼Œå¯ä»¥åˆ†æˆï¼ˆ1ï¼Œ1ï¼‰ã€ï¼ˆ2ï¼Œ2ï¼‰ã€ï¼ˆ3ï¼Œ4ï¼‰å’Œï¼ˆ4ï¼Œ5ï¼‰ï¼Œä»¥åŠæœ€åè¿˜å‰©ä¸‹çš„æ•°å­—5ã€‚
        // åœ¨è¿™å‡ ç»„æ•°å­—ä¸­ï¼Œå‰ä¸¤ç»„çš„æ•°å­—åˆ†åˆ«ç›¸åŒï¼Œä½†åé¢ä¸¤ç»„çš„æ•°å­—å°±ä¸ç›¸åŒã€‚
        // æ•°ç»„ä¸­çš„æ•°å­—æ¯ä¸¤ä¸ªåˆ†æˆä¸€ç»„ï¼Œæœ€åˆçš„è‹¥å¹²ç»„çš„ä¸¤ä¸ªæ•°å­—éƒ½æ˜¯ç›¸åŒçš„ã€‚ä½†é‡åˆ°äº†åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ä¹‹åï¼Œæƒ…å†µå‘ç”Ÿå˜åŒ–ã€‚
        // è¿™ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—å’Œåé¢çš„æ•°å­—ç»“åˆæˆä¸€ç»„ï¼Œå¯¼è‡´åé¢æ‰€æœ‰å‡ºç°ä¸¤æ¬¡çš„æ•°å­—éƒ½è¢«åˆ†åˆ°ä¸¤ä¸ªä¸åŒçš„ç»„ï¼Œå³åé¢æ‰€æœ‰ç»„çš„ä¸¤ä¸ªæ•°å­—éƒ½ä¸ç›¸åŒã€‚
        // åªå‡ºç°ä¸€æ¬¡çš„æ•°ç»„åªå¯èƒ½æ˜¯æ¯ä¸€ç»„çš„ç¬¬ä¸€ä¸ªæ•°å­—ã€‚
        // ç”±æ­¤å¯è§ï¼Œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—æ­£å¥½æ˜¯ç¬¬1ä¸ªä¸¤ä¸ªæ•°å­—ä¸ç›¸ç­‰çš„åˆ†ç»„çš„ç¬¬1ä¸ªæ•°å­—ã€‚


        //// è§£æ³•2ï¼šäºŒåˆ†æ³•
        //// å°†æ•°ç»„å…ƒç´ ä¸¤ä¸¤åˆ†æˆä¸€ç»„ï¼Œæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå¯¹äºæ•°ç»„è€Œè¨€ï¼Œæˆå¯¹å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªæ‰€å¯¹åº”çš„ä¸‹æ ‡å¿…ç„¶æ˜¯å¶æ•°ï¼Œæˆå¯¹å…ƒç´ ä¸­çš„ç¬¬äºŒä¸ªæ‰€å¯¹åº”çš„ä¸‹æ ‡å¿…ç„¶æ˜¯å¥‡æ•°ã€‚
        // åˆå§‹æ—¶ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„å·¦è¾¹ç•Œæ˜¯ 0ï¼Œå³è¾¹ç•Œæ˜¯æ•°ç»„çš„æœ€å¤§ä¸‹æ ‡ã€‚æ¯æ¬¡å–å·¦å³è¾¹ç•Œçš„å¹³å‡å€¼ mid ä½œä¸ºå¾…åˆ¤æ–­çš„ä¸‹æ ‡ï¼Œæ ¹æ® mid çš„å¥‡å¶æ€§å†³å®šå’Œå·¦è¾¹æˆ–å³è¾¹çš„ç›¸é‚»å…ƒç´ æ¯”è¾ƒï¼š
        // 1.å¦‚æœ mid æ˜¯å¶æ•°ï¼Œåˆ™æ¯”è¾ƒ nums[mid] å’Œ nums[mid+1] æ˜¯å¦ç›¸ç­‰ï¼›
        // 1.1è‹¥å¯¹åº”æ•°ç»„å€¼å’Œä¸‹ä¸€ä¸ªæ•°ç»„å€¼ç›¸ç­‰çš„è¯ï¼Œè¯´æ˜å•ä¸€å…ƒç´ åœ¨ä¸åŒ…å«midçš„å³ä¾§ï¼ŒåŒ…å«midçš„å·¦ä¾§æ²¡æœ‰;
        // 1.2è‹¥å¯¹åº”æ•°ç»„å€¼å’Œä¸‹ä¸€ä¸ªæ•°ç»„å€¼ä¸ç›¸ç­‰çš„è¯ï¼Œè¯´æ˜å•ä¸€å…ƒç´ å‡ºç°åœ¨åŒ…å«midçš„å·¦ä¾§ã€‚
        // 2.å¦‚æœ mid æ˜¯å¥‡æ•°ï¼Œåˆ™æ¯”è¾ƒ nums[midâˆ’1] å’Œnums[mid] æ˜¯å¦ç›¸ç­‰ã€‚
        // å¦‚æœä¸Šè¿°æ¯”è¾ƒç›¸é‚»å…ƒç´ çš„ç»“æœæ˜¯ç›¸ç­‰ï¼Œåˆ™ mid<xï¼Œè°ƒæ•´å·¦è¾¹ç•Œï¼Œå¦åˆ™ midâ‰¥xï¼Œè°ƒæ•´å³è¾¹ç•Œã€‚è°ƒæ•´è¾¹ç•Œä¹‹åç»§ç»­äºŒåˆ†æŸ¥æ‰¾ï¼Œç›´åˆ°ç¡®å®šä¸‹æ ‡ x çš„å€¼ã€‚
        // å¾—åˆ°ä¸‹æ ‡ x çš„å€¼ä¹‹åï¼Œnums[x] å³ä¸ºåªå‡ºç°ä¸€æ¬¡çš„å…ƒç´ ã€‚


        //// æ ¹æ®è§„åˆ™ï¼Œåªå‡ºç°ä¸€æ¬¡çš„å…ƒç´ ä¸€å®šæ˜¯æ¯ä¸€å¯¹å…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
        //public int singleNonDuplicate(int[] nums) {
        //    if (nums == null || nums.length == 0) {
        //        return -1;
        //    }
        //    int left = 0;
        //    int right = nums.length - 1;
        //    while (left < right) {// æ³¨æ„è¿™é‡Œæ²¡æœ‰ç­‰å·ï¼Œ[left,right]è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œmidå‘ä¸‹å–æ•´ï¼Œmid+1ä¸ä¼šè¶Šç•Œ
        //        int mid = (left + right) >> 1;
        //        if (mid % 2 == 0) {// mid ä¸ºå¶æ•°ä¸‹æ ‡,æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹,å®é™…æ˜¯æ•°ç»„ä¸­ç¬¬å¥‡æ•°ä¸ªå…ƒç´ 
        //            if (nums[mid] == nums[mid + 1]) {// è‹¥å¶æ•°ä¸‹æ ‡çš„å€¼ä¸ä¸‹ä¸€ä¸ªå€¼ç›¸åŒ
        //                // è‹¥å¶æ•°ä¸‹æ ‡çš„å€¼ä¼šä¸ä¸‹ä¸€ä¸ªå€¼ç›¸åŒï¼Œåˆ™è¡¨æ˜åœ¨[left,mid+1]èŒƒå›´å†…ä¸åŒ…å«åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—
        //                //left = mid + 1;// è¿™é‡Œï¼ˆ+1ï¼‰æˆ–è€…ï¼ˆ+2ï¼‰éƒ½å¯ä»¥ï¼Œ
        //                left = mid + 2;
        //            } else {// å¶æ•°ä¸‹æ ‡çš„å€¼ä¼šä¸ä¸‹ä¸€ä¸ªå€¼ä¸åŒï¼Œåˆ™è¯´æ˜ [left,mid]ä¸€å®šåŒ…å«å•ä¸€å…ƒç´ ï¼Œè¿™é‡Œmidä¸ºæ¯ä¸€ç»„å…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™å¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªä¸åŒçš„æ•°å­—ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯é—­åŒºé—´
        //                right = mid;
        //            }
        //        } else {// mid ä¸ºå¥‡æ•°ä¸‹æ ‡,æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹,å®é™…æ˜¯æ•°ç»„ä¸­ç¬¬å¶æ•°ä¸ªå…ƒç´ 
        //            if (nums[mid - 1] == nums[mid]) {// è‹¥å¥‡æ•°ä¸‹æ ‡çš„å€¼å’Œå‰ä¸€ä¸ªå€¼ç›¸åŒï¼Œå¯ä»¥ç¡®ä¿ [left,mid]ä¸åŒ…å«å•ä¸€å…ƒç´ 
        //                left = mid + 1;
        //            } else {
        //                // è‹¥å¥‡æ•°ä¸‹æ ‡çš„å€¼å’Œå‰ä¸€ä¸ªå€¼ä¸åŒï¼Œé‚£ä¹ˆè¯´æ˜[left,mid-1]ä¸­ä¸€å®šåŒ…å«å•ä¸€å…ƒç´ ï¼Œè¿™é‡Œå†™æˆ[left,mid-1]å’Œ[left,mid]éƒ½å¯ä»¥
        //                //right = mid;
        //                right = mid-1;
        //            }
        //        }
        //    }
        //    // å¾ªç¯ç»“æŸçš„æ¡ä»¶æ˜¯left==right
        //    return nums[right];
        //}





        //  è§£æ³•2ï¼šäºŒåˆ†æ³•  å†™æ³•2
        public int singleNonDuplicate(int[] nums) {
            if (nums == null || nums.length == 0) {
                return -1;
            }
            int left = 0;
            int right = nums.length - 1;
            while (left <= right) {// [left,right]è‡³å°‘ä¸€ä¸ªå…ƒç´ ï¼Œå·¦å³è¾¹ç•Œè¦èƒ½å˜åŒ–ï¼Œæˆ–è€…èƒ½ç»“æŸå¾ªç¯ï¼Œé¿å…å½¢æˆæ­»å¾ªç¯
                int mid = (left + right) >> 1;
                if (mid % 2 == 0) {
                    if (mid < nums.length - 1 && nums[mid] == nums[mid + 1]) {// è¿™é‡Œè¦å’Œåä¸€ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œè¦æ£€æŸ¥æ˜¯å¦å‡ºç•Œ
                        left = mid + 2;
                    } else {
                        if (mid == 0 || nums[mid] != nums[mid - 1]) {// å¦‚æœmidæ˜¯0ï¼Œé‚£ä¹ˆå·¦è¾¹å°±æ²¡æœ‰å…ƒç´ äº†ï¼Œä¸‹æ ‡ä¸éœ€è¦-1äº†
                            return nums[mid];
                        } else {
                            right = mid - 2;
                        }
                    }
                } else {
                    if (nums[mid] == nums[mid - 1]) {
                        left = mid + 1;
                    } else {
                        right = mid - 1;
                    }
                }
            }
            return nums[nums.length - 1];
        }




        ////	è§£æ³•1ï¼šå“ˆå¸Œè¡¨  å†™æ³•2 HashSet
        //public int singleNonDuplicate(int[] nums) {
        //	if(nums==null){
        //		return -1;
        //	}
        //	int len=nums.length;
        //	Set<Integer> set=new HashSet<>();
        //	for (int i = 0; i < len; i++) {
        //		if(set.contains(nums[i])){
        //			set.remove(nums[i]);
        //		}else{
        //			set.add(nums[i]);
        //		}
        //	}
        //	// éå†å™¨å’Œåé¢foreachä¸€æ ·éƒ½æ˜¯éå†seté›†åˆ
        //	//Iterator iter=set.iterator();
        //	//return (Integer)iter.next();
        //	for(Integer ans:set){
        //		return ans;
        //	}
        //	return -1;
        //}
        //




        //// è§£æ³•1ï¼šå“ˆå¸Œè¡¨ å†™æ³•1 HashMap
        //public int singleNonDuplicate(int[] nums) {
        //	if(nums==null){
        //		return -1;
        //	}
        //	int len=nums.length;
        //	Map<Integer,Integer> map=new HashMap<>();
        //	for (int i = 0; i < len; i++) {
        //		map.put(nums[i],map.getOrDefault(nums[i],0)+1);
        //	}
        //	for (int i = 0; i < len; i++) {
        //		if(map.get(nums[i])==1){
        //			return nums[i];
        //		}
        //	}
        //	return -1;
        //}



    }
//leetcode submit region end(Prohibit modification and deletion)

}
